<!DOCTYPE html>
<html lang="eng">
<head>
  <meta charset="UTF-8">  
  <link rel="stylesheet" href="CSS/main.css">
  <link rel="stylesheet" href="CSS/characters.css">
  <link href="https://fonts.googleapis.com/css2?family=WDXL+Lubrifont+TC&display=swap" rel="stylesheet">
</head>

<body>
  <div class="upperSection">
    <p>Character</p>
    <ul class="social-links">
      <li><a href="home.html"><img class="social-links" src="images/homeImages/house.png" alt="home"></a></li>
      <li><a href="./characters.html"><img class="social-links" src="images/homeImages/user.png" alt="user"></a></li>
      <li><a href="./settings.html"><img class="social-links" src="images/homeImages/setting.png" alt="settings"></a></li>
    </ul>
  </div>
  <hr>

  <div class="character-selection">

    <div class="current-character">
      <img id="currentAvatar" src="images/Fighters/Fighter1.png" alt="Current picture">
      <h2 id="playerName">Player</h2>
      <p class="wins">Wins: <span id="wins">0</span></p>
      <p class="losses">Losses: <span id="losses">0</span></p>
    </div>

    <div class="choose-character">
      <h3>Choose your fighter</h3>
      <div class="avatars-grid">
        <img src="images/Fighters/Fighter1.png" alt="Fighter 1" class="avatar-option">
        <img src="images/Fighters/Fighter2.jpg" alt="Fighter 2" class="avatar-option">
        <img src="images/Fighters/Fighter3.png" alt="Fighter 3" class="avatar-option">
        <img src="images/Fighters/Fighter4.png" alt="Fighter 4" class="avatar-option">
      </div>
    </div>

  </div>

  <div class="containerB">
  <button class="buttonFight" type="button" onclick="window.location.href='./fight.html'">Fight!</button>
</div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const nameFromStorage = localStorage.getItem("playerName"); 
    if (nameFromStorage) {
      document.getElementById("playerName").textContent = nameFromStorage;
    }

    const avatarOptions = document.querySelectorAll(".avatar-option");
    const currentAvatar = document.getElementById("currentAvatar");

    avatarOptions.forEach(avatar => {
      avatar.addEventListener("click", () => {
        currentAvatar.src = avatar.src;
        localStorage.setItem("playerAvatar", avatar.src); 
      });
    });

    const savedAvatar = localStorage.getItem("playerAvatar");
    if (savedAvatar) {
      currentAvatar.src = savedAvatar;
    }
  });



  document.addEventListener("DOMContentLoaded", () => {
  const nameFromStorage = localStorage.getItem("playerName"); 
  if (nameFromStorage) {
    document.getElementById("playerName").textContent = nameFromStorage;
  }

  const avatarOptions = document.querySelectorAll(".avatar-option");
  const currentAvatar = document.getElementById("currentAvatar");

  avatarOptions.forEach(avatar => {
    avatar.addEventListener("click", () => {
      currentAvatar.src = avatar.src;
      localStorage.setItem("playerAvatar", avatar.src); 
    });
  });

  const savedAvatar = localStorage.getItem("playerAvatar");
  if (savedAvatar) {
    currentAvatar.src = savedAvatar;
  }

  // -----------------------------
  // Отображаем победы и поражения
  // -----------------------------
  const wins = localStorage.getItem("wins") || 0;
  const losses = localStorage.getItem("losses") || 0;

  document.getElementById("wins").textContent = wins;
  document.getElementById("losses").textContent = losses;
});

  </script>

</body>
</html>

